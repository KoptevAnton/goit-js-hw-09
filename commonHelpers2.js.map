{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = feedbackForm.querySelector('input[name=\"email\"]');\nconst messageTextarea = feedbackForm.querySelector('textarea[name=\"message\"]');\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\n// Функція для зберігання стану форми в локальному сховищі\nfunction saveFormStateToLocalStorage() {\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\n// Функція для заповнення полів форми зі збереженого стану\nfunction fillFormFieldsFromLocalStorage() {\n  const storedState = localStorage.getItem('feedback-form-state');\n\n  if (storedState) {\n    const savedData = JSON.parse(storedState);\n    formData.email = savedData.email || '';\n    formData.message = savedData.message || '';\n    emailInput.value = formData.email;\n    messageTextarea.value = formData.message;\n  }\n}\n\n// Функція для оновлення formData та збереження в локальне сховище\nfunction updateFormData(event) {\n  formData[event.target.name] = event.target.value.trim();\n  saveFormStateThrottled();\n}\n\n// Використовуємо throttle для обмеження збереження стану форми\nconst saveFormStateThrottled = throttle(saveFormStateToLocalStorage, 500);\n\n// Відстеження події input на полях форми з обмеженням\nfeedbackForm.addEventListener('input', updateFormData);\n\n// Перевірка стану сховища при завантаженні сторінки\nfillFormFieldsFromLocalStorage();\n\n// Обробка події submit форми\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log('Form Data:', formData);\n\n  localStorage.removeItem('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n  feedbackForm.reset();\n});\n"],"names":["feedbackForm","emailInput","messageTextarea","formData","saveFormStateToLocalStorage","fillFormFieldsFromLocalStorage","storedState","savedData","updateFormData","event","saveFormStateThrottled","throttle"],"mappings":"oFAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaD,EAAa,cAAc,qBAAqB,EAC7DE,EAAkBF,EAAa,cAAc,0BAA0B,EAEvEG,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGA,SAASC,GAA8B,CACrC,aAAa,QAAQ,sBAAuB,KAAK,UAAUD,CAAQ,CAAC,CACtE,CAGA,SAASE,GAAiC,CACxC,MAAMC,EAAc,aAAa,QAAQ,qBAAqB,EAE9D,GAAIA,EAAa,CACf,MAAMC,EAAY,KAAK,MAAMD,CAAW,EACxCH,EAAS,MAAQI,EAAU,OAAS,GACpCJ,EAAS,QAAUI,EAAU,SAAW,GACxCN,EAAW,MAAQE,EAAS,MAC5BD,EAAgB,MAAQC,EAAS,OAClC,CACH,CAGA,SAASK,EAAeC,EAAO,CAC7BN,EAASM,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjDC,GACF,CAGA,MAAMA,EAAyBC,EAASP,EAA6B,GAAG,EAGxEJ,EAAa,iBAAiB,QAASQ,CAAc,EAGrDH,IAGAL,EAAa,iBAAiB,SAAUS,GAAS,CAG/C,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAI,aAAcA,CAAQ,EAElC,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBH,EAAa,MAAK,CACpB,CAAC"}